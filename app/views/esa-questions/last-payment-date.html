{% extends "layouts/_base.html" %}
{% set phaseBanner = 'true' %}
{% set languageToggle = 'false' %}

{% set title =  "When did you receive your last ESA payment?" %}

{% set detailsTextHtml %}
    <p class="govuk-body">
        You can stay on this page for up to 20 minutes if you need to check your answer. Do not close the web page.
    </p>

    <p class="govuk-body">
        If you need more time, you can come back and confirm your identity later. You might be asked for different information.
    </p>
{% endset %}



{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

            <form class="form" action={{ formPostLink }} method="post" autocomplete="off" novalidate>

                <!--page heading with caption include-->
                {% set pageHeadingH1 %}
                    <span class="govuk-caption-l">
                        Confirm your identity
                    </span>
                    {{ title }}
                {% endset %}

                {{ govukDateInput({
                    id: "kbv-esa-last-payment-date",
                    namePrefix: "kbv-esa-last-payment-date",
                    fieldset: {
                    legend: {
                        html: pageHeadingH1,
                        isPageHeading: true,
                        classes: "govuk-fieldset__legend--l"
                    }
                    },
                    hint: {
                        html: "You can find this on your bank statement.<br />For example, 27 3 2020"
                    },
                    items: [
                        {
                            name: "day",
                            classes: "govuk-input--width-2",
                            value: data["kbv-esa-last-payment-date-day"]
                        },
                        {
                            name: "month",
                            classes: "govuk-input--width-2",
                            value: data["kbv-esa-last-payment-date-month"]
                        },
                        {
                            name: "year",
                            classes: "govuk-input--width-4",
                            value: data["kbv-esa-last-payment-date-year"]
                        }
                    ]
                }) }}


                {{ govukDetails({
                summaryText: "I do not have this information now",
                html: detailsTextHtml | safe
                }) }}


                {{ govukButton({
                    text: "Continue",
                    disabled: formPostLink === null
                }) }}

                {% if formPostLink %}
                    <p><a href={{ formPostLink }}>I cannot answer this question</a></p>
                {% endif %}
            </form>
            
        </div>
    </div>
{% endblock %}
